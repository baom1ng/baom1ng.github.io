{"title":"Samba快速入门","uid":"d5477574fa77bf54e6e43f047273c678","slug":"Samba快速入门","date":"2019-06-27T09:35:23.000Z","updated":"2022-10-24T05:04:23.456Z","comments":true,"path":"api/articles/Samba快速入门.json","keywords":"Brevin, blog, 技术, 博客","cover":"/images/samba.jpg","content":"<h3 id=\"安装Samba\"><a href=\"#安装Samba\" class=\"headerlink\" title=\"安装Samba\"></a>安装Samba</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]<span class=\"comment\"># yum install samba -y</span></span><br><span class=\"line\">[root@localhost ~]<span class=\"comment\"># cd /etc/samba/</span></span><br><span class=\"line\">[root@localhost samba]<span class=\"comment\"># ls</span></span><br><span class=\"line\">lmhosts  smb.conf  smb.conf.example</span><br><span class=\"line\">[root@localhost samba]<span class=\"comment\"># mv smb.conf smb.conf.bak</span></span><br><span class=\"line\">[root@localhost samba]<span class=\"comment\"># grep -v &quot;#&quot; smb.conf.bak &gt; smb.conf </span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"配置文件smb-conf\"><a href=\"#配置文件smb-conf\" class=\"headerlink\" title=\"配置文件smb.conf\"></a>配置文件smb.conf</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost samba]# vim smb.conf</span><br><span class=\"line\"></span><br><span class=\"line\">[global]</span><br><span class=\"line\">        workgroup = SAMBA</span><br><span class=\"line\">        security = user </span><br><span class=\"line\"></span><br><span class=\"line\">        passdb backend = tdbsam</span><br><span class=\"line\"></span><br><span class=\"line\">        printing = cups</span><br><span class=\"line\">        printcap name = cups</span><br><span class=\"line\">        load printers = yes</span><br><span class=\"line\">        cups options = raw</span><br><span class=\"line\">[myshare]</span><br><span class=\"line\">                ##共享文件目录路径</span><br><span class=\"line\">                path=/opt/wbm         </span><br><span class=\"line\">                browseable=yes</span><br><span class=\"line\">                create mask=0644</span><br><span class=\"line\">                directory mask=0755</span><br><span class=\"line\">                ##允许访问的用户</span><br><span class=\"line\">                valid users=wbm</span><br><span class=\"line\">                ##允许写入的用户</span><br><span class=\"line\">                write list=wbm  </span><br></pre></td></tr></table></figure>\n<h3 id=\"创建用户\"><a href=\"#创建用户\" class=\"headerlink\" title=\"创建用户\"></a>创建用户</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost samba]<span class=\"comment\">#useradd wbm</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"给用户设置密码\"><a href=\"#给用户设置密码\" class=\"headerlink\" title=\"给用户设置密码\"></a>给用户设置密码</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost samba]<span class=\"comment\">#smbpasswd -a wbm </span></span><br></pre></td></tr></table></figure>\n<h3 id=\"列出smb用户列表\"><a href=\"#列出smb用户列表\" class=\"headerlink\" title=\"列出smb用户列表\"></a>列出smb用户列表</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost samba]<span class=\"comment\">#pdbedit -L  </span></span><br><span class=\"line\">wbm:1000:</span><br></pre></td></tr></table></figure>\n<h3 id=\"创建Samba共享目录\"><a href=\"#创建Samba共享目录\" class=\"headerlink\" title=\"创建Samba共享目录\"></a>创建Samba共享目录</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost ~]<span class=\"comment\">#mkdir /opt/wbm</span></span><br><span class=\"line\">[root@localhost ~]<span class=\"comment\">#chmod 777 /opt/wbm</span></span><br><span class=\"line\">[root@localhost ~]<span class=\"comment\">#systemctl start smb.service </span></span><br></pre></td></tr></table></figure>\n<h3 id=\"挂在samba共享\"><a href=\"#挂在samba共享\" class=\"headerlink\" title=\"挂在samba共享\"></a>挂在samba共享</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vm22 ~]<span class=\"comment\"># mount -t cifs //192.168.10.21/wbm /opt/wbm/ -o username=wbm,password=qwer1.2.3.</span></span><br><span class=\"line\">[root@vm22 ~]<span class=\"comment\"># cd /opt/wbm/</span></span><br><span class=\"line\">[root@vm22 wbm]<span class=\"comment\"># ls</span></span><br><span class=\"line\">Install_nginx.sh</span><br></pre></td></tr></table></figure>\n<h3 id=\"开机自动挂载\"><a href=\"#开机自动挂载\" class=\"headerlink\" title=\"开机自动挂载\"></a>开机自动挂载</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@vm22 wbm]<span class=\"comment\"># vim /etc/fstab</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#在末尾处添加</span></span><br><span class=\"line\"></span><br><span class=\"line\">//192.168.10.21 /opt/wbm    cifs username=wbm,password=qwer1.2.3. 0 0</span><br></pre></td></tr></table></figure>","text":"安装Samba1234567[root@localhost ~]# yum install samba -y[root@localhost ~]# cd /etc/samba/[root@localhost samba]# lslmhosts smb.conf smb.conf....","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"教程","slug":"教程","count":3,"path":"api/categories/教程.json"}],"tags":[{"name":"Linux","slug":"Linux","count":4,"path":"api/tags/Linux.json"},{"name":"教程","slug":"教程","count":3,"path":"api/tags/教程.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85Samba\"><span class=\"toc-text\">安装Samba</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6smb-conf\"><span class=\"toc-text\">配置文件smb.conf</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7\"><span class=\"toc-text\">创建用户</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%99%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">给用户设置密码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%97%E5%87%BAsmb%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8\"><span class=\"toc-text\">列出smb用户列表</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BASamba%E5%85%B1%E4%BA%AB%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">创建Samba共享目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8C%82%E5%9C%A8samba%E5%85%B1%E4%BA%AB\"><span class=\"toc-text\">挂在samba共享</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD\"><span class=\"toc-text\">开机自动挂载</span></a></li></ol>","author":{"name":"Brevin","slug":"blog-author","avatar":"/images/avatar.jpeg","link":"/","description":"Welcome to my blog <br/> I'm Brevin Bao.-a DevOps.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Frp内网穿透","uid":"70dd287eea3c3b1a2c451ddd5cf0b7eb","slug":"Frp内网穿透","date":"2020-05-08T07:02:40.000Z","updated":"2022-10-24T03:10:10.357Z","comments":true,"path":"api/articles/Frp内网穿透.json","keywords":"Brevin, blog, 技术, 博客","cover":"/images/frp.png","text":"Frp内网穿透Frp 是一个可用于内网穿透的高性能的反向代理应用，支持 tcp, udp 协议，为 http 和 https 应用协议提供了额外的能力，且尝试性支持了点对点穿透。项目地址：https://github.com/fatedier/frp 安装FrpFRP 采用 Go...","link":"","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"教程","slug":"教程","count":3,"path":"api/categories/教程.json"}],"tags":[{"name":"-Linux -教程","slug":"Linux-教程","count":1,"path":"api/tags/Linux-教程.json"}],"author":{"name":"Brevin","slug":"blog-author","avatar":"/images/avatar.jpeg","link":"/","description":"Welcome to my blog <br/> I'm Brevin Bao.-a DevOps.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{}}